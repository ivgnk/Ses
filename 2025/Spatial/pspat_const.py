
import pandas as pd
from pspat_anom_dist import *
# inf file name
f_inf_nm='gr_an.inf'
# inf file name column name
column_names = ["f_name", "sq_name"]
# для расширенного mid - column name
name_col=['Labels', 'Perimetr', 'Square', 'CentrX', 'CentrY', 'Area']
# mid file name for UK area
UK_f_name='Str_H_2k_13-11-13_w'
UK_mid_fname='Str_H_2k_13-11-13_w.MID'
UK_sq_name='Юго-Камская'

lst_uk_mid=[
[55,4.79445,1.65968,406.166,390.662,1.65968],
[31,5.39475,2.26171,410.392,392.342,2.26171],
[51,5.36623,2.27005,410.031,398.991,2.27005],
[52,3.57969,0.921574,412.102,397.326,0.921574],
[49,5.31626,2.22156,412.402,401.701,2.22156],
[48,4.08387,1.21873,410.699,402.421,1.21873],
[23,3.533,0.979114,413.574,405.283,0.979114],
[40,4.049,1.22895,433.236,424.095,1.22895],
[15,6.52584,2.78806,428.305,421.029,2.78806],
[36,3.64852,0.799189,425.533,427.082,0.799189],
[10,5.15809,2.0245,423.423,427.183,2.0245],
[26,20.1776,21.3444,441.811,401.58,21.3444],
[19,6.75396,2.87316,441.595,414.161,2.87316],
[21,6.03193,2.62469,440.582,411.23,2.62469],
[43,4.37224,1.45981,438.193,413.408,1.45981],
[42,3.41895,0.83215,439.667,416.699,0.83215],
[41,1.4692,0.154998,439.929,418.414,0.154998],
[54,3.84283,1.09371,425.712,394.709,1.09371],
[29,8.52309,5.61575,428.939,392.429,5.61575],
[30,3.17015,0.777607,431.362,392.064,0.777607],
[2,6.90839,3.43379,432.022,395.859,3.43379],
[16,8.61583,4.4338,435.684,420.037,4.4338],
[20,5.56472,2.23572,443.942,416.698,2.23572],
[8,2.73463,0.506142,420.869,425.9,0.506142],
[11,4.14156,1.32056,418.387,425.824,1.32056],
[37,4.29179,1.4019,414.669,416.384,1.4019],
[38,2.84982,0.606126,412.636,413.512,0.606126],
[22,6.41373,3.14153,422.211,409.75,3.14153],
[13,8.06542,3.72823,423.767,422.079,3.72823],
[12,7.00688,2.9802,419.997,421.944,2.9802],
[14,6.33501,3.11841,418.752,419.772,3.11841],
[9,6.49804,3.29919,424.766,429.568,3.29919],
[39,2.61917,0.522258,427.687,419.013,0.522258],
[45,4.09502,1.31729,433.046,415.988,1.31729],
[17,4.96814,1.85982,430.881,416.06,1.85982],
[44,4.2483,1.40188,429.5,414.29,1.40188],
[18,15.7406,18.7866,432.538,412.188,18.7866],
[1,18.4924,11.9685,425.452,402.172,11.9685],
[6,3.82652,1.12269,421.085,404.646,1.12269],
[24,14.8523,13.4396,418.514,402.466,13.4396],
[25,11.7926,9.17326,434.301,402.691,9.17326],
[47,2.92034,0.579736,428.244,402.485,0.579736],
[56,4.44816,1.40886,430.986,385.973,1.40886],
[33,7.98843,4.78459,427.161,386.851,4.78459],
[34,3.62706,1.02187,413.901,384.425,1.02187],
[57,3.95705,1.21694,415.591,382.154,1.21694],
[35,3.87708,1.1721,416.764,384.275,1.1721],
[27,5.77363,2.28,413.66,400.43,2.28],
[50,3.33989,0.769311,417.172,400.831,0.769311],
[28,5.41479,2.2328,421.137,394.875,2.2328],
[53,3.43791,0.913377,418.921,397.667,0.913377],
[32,42.4871,85.3265,418.966,389.886,85.3265],
]

def tst_add_nclust():
    ncl=add_nclust(view=bool(0))
    print('Измененный lst_uk_mid')
    print(lst_uk_mid)
    print('Столбец номеров кластеров')
    print(ncl)

def add_nclust(view=False)->list:
    """
    Добавление еще одного столбца с номером кластера
    вывод списка с номерами кластеров в порядке аномалий
    """
    ll=len(lst_uk_mid)
    for i in range(ll):
        nan_=lst_uk_mid[i][0]
        lst_uk_mid[i]=lst_uk_mid[i]+[an_dist[nan_]['cl']]
        # print(i,lst_uk_mid[i])
    return [nclust_color[lst_uk_mid[i][-1]-1] for i in range(ll)]

def make_pandas_from_uk_mid():
    pdmid=pd.DataFrame(lst_uk_mid)
    pdmid.columns = name_col
    # print(pdmid)
    return pdmid

if __name__=='__main__':
    # make_pandas_from_uk_mid()
    tst_add_nclust()